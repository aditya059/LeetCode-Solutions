class Solution {
    const int MOD = 1e9 + 7;
public:
    int countTrapezoids(vector<vector<int>>& points) {
        unordered_map<int, int> freq;
        for(int i = 0; i < points.size(); i++) {
            freq[points[i][1]]++;
        }
        vector<int> count;
        for(auto iter: freq) {
            count.push_back(iter.second);
        }
        int ans = 0, sum = (count[0] * 1LL * (count[0] - 1) / 2) % MOD;
        for(int i = 1; i < count.size(); i++) {
            int val = (count[i] * 1LL * (count[i] - 1) / 2) % MOD;
            ans = (ans + (sum * 1LL * val) % MOD) % MOD;
            sum = (sum + val) % MOD;
        }
        return ans;
    }
};
